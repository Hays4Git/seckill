# 高并发优化分析

## 几个主要可以优化的点

* 前端控制：暴露接口，按钮防重复

* 使用CDN:detail页面，静态资源，如CSS和JS

* 获取系统时间不用优化

* 获取秒杀接口无法使用CDN缓存，可以采用缓存数据库，如redis

* 秒杀操作接口无法使用CDN缓存，由于一致性维护不方便，也不适合使用缓存数据库，事务竞争优化，减少事务锁时间

## 秒杀操作接口进一步优化分析

1. 使用redis或者其他noSQL数据库实现原子计数器，将购买信息存入消息队列，最后在落地。

  > 由于NoSQL和MQ等的使用，需要更多的运维成本，且不如关系数据库稳定。

  > 对数据一致性和回滚方案需要更多处理，需要开发成本。

  > 处理重复秒杀等问题比较复杂。

2. 瓶颈分析，优化减少行级锁持有时间，更新操作放到Mysql端，减少网络延迟。

  > 事务等待网络延迟和GC导致性能差